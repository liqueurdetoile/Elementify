<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>elements/objectarray.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="elementify.Collection.html">Collection</a></li><li><a href="elementify.Element.html">Element</a></li><li><a href="HtmlElement.html">HtmlElement</a><ul class='methods'><li data-type='method'><a href="HtmlElement.html#~addClass">addClass</a></li><li data-type='method'><a href="HtmlElement.html#~after">after</a></li><li data-type='method'><a href="HtmlElement.html#~append">append</a></li><li data-type='method'><a href="HtmlElement.html#~attr">attr</a></li><li data-type='method'><a href="HtmlElement.html#~before">before</a></li><li data-type='method'><a href="HtmlElement.html#~child">child</a></li><li data-type='method'><a href="HtmlElement.html#~childs">childs</a></li><li data-type='method'><a href="HtmlElement.html#~clone">clone</a></li><li data-type='method'><a href="HtmlElement.html#~data">data</a></li><li data-type='method'><a href="HtmlElement.html#~display">display</a></li><li data-type='method'><a href="HtmlElement.html#~empty">empty</a></li><li data-type='method'><a href="HtmlElement.html#~fadeIn">fadeIn</a></li><li data-type='method'><a href="HtmlElement.html#~fadeIn">fadeIn</a></li><li data-type='method'><a href="HtmlElement.html#~forEach">forEach</a></li><li data-type='method'><a href="HtmlElement.html#~hasClass">hasClass</a></li><li data-type='method'><a href="HtmlElement.html#~hide">hide</a></li><li data-type='method'><a href="HtmlElement.html#~html">html</a></li><li data-type='method'><a href="HtmlElement.html#~matches">matches</a></li><li data-type='method'><a href="HtmlElement.html#~nextSibling">nextSibling</a></li><li data-type='method'><a href="HtmlElement.html#~nextSiblings">nextSiblings</a></li><li data-type='method'><a href="HtmlElement.html#~parent">parent</a></li><li data-type='method'><a href="HtmlElement.html#~parents">parents</a></li><li data-type='method'><a href="HtmlElement.html#~prepend">prepend</a></li><li data-type='method'><a href="HtmlElement.html#~previousSibling">previousSibling</a></li><li data-type='method'><a href="HtmlElement.html#~previousSiblings">previousSiblings</a></li><li data-type='method'><a href="HtmlElement.html#~remove">remove</a></li><li data-type='method'><a href="HtmlElement.html#~removeClass">removeClass</a></li><li data-type='method'><a href="HtmlElement.html#~shallow">shallow</a></li><li data-type='method'><a href="HtmlElement.html#~show">show</a></li><li data-type='method'><a href="HtmlElement.html#~show">show</a></li><li data-type='method'><a href="HtmlElement.html#~style">style</a></li><li data-type='method'><a href="HtmlElement.html#~toggleClass">toggleClass</a></li><li data-type='method'><a href="HtmlElement.html#~unwrap">unwrap</a></li><li data-type='method'><a href="HtmlElement.html#~wrap">wrap</a></li></ul></li><li><a href="module.html#.exports">exports</a></li><li><a href="ObjectArray.html">ObjectArray</a><ul class='methods'><li data-type='method'><a href="ObjectArray.html#~forEach">forEach</a></li><li data-type='method'><a href="ObjectArray.html#~indexOf">indexOf</a></li><li data-type='method'><a href="ObjectArray.html#~push">push</a></li><li data-type='method'><a href="ObjectArray.html#~reduce">reduce</a></li><li data-type='method'><a href="ObjectArray.html#~serialize">serialize</a></li><li data-type='method'><a href="ObjectArray.html#~split">split</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="elementify.html">elementify</a><ul class='methods'><li data-type='method'><a href="elementify.html#.Q">Q</a></li></ul></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<div id="main">
    
    <h1 class="page-title">elements/objectarray.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
*  @file ObjectArray class declaration
*  @author  Liqueur de Toile &lt;contact@liqueurdetoile.com>
*  @license Apache-2.0 {@link https://www.apache.org/licenses/LICENSE-2.0}
*/

/**
*  @classDesc
*  The ObjectArray class implements array-like properties and methods to
*  a key/value javascript object. It can be viewed as a kind of
*  associative array in JS.
*
*  @class ObjectArray
*  @since 1.0.0
*  @version 1.0.0
*  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
*
*  @param   {Object}    data
*
*  @returns {ObjectArray} ObjectArray object
*/

class ObjectArray {
  constructor(data = {}) {
    for (let key in data) this.push(key, data[key]);
  }

  /**
  *  Returns length of the ObjectArray
  *
  *  @alias ObjectArray~length
  *  @type  Number
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @returns {Number} Length of the ObjectArray
  */
  get length() {
    return this.keys.length;
  }

  /**
  *  Returns keys of the ObjectArray
  *
  *  @alias ObjectArray~keys
  *  @type Array
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @returns {Array} Array of ObjectArray keys
  */
  get keys() {
    let keys = [];

    for (let key in this.data) keys.push(key);
  }

  /**
  *  Returns values of the ObjectArray
  *
  *  @alias ObjectArray~values
  *  @type Array
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @returns {Array} Array of ObjectArray values
  */
  get values() {
    let values = [];

    for (let key in this.data) values.push(this.data[key]);
  }

  /**
  *  Runs a callback on each ObjectArray entry
  *
  *  @method ObjectArray~forEach
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param {forEachCallback} cb Callback to be run
  *  @returns {void}
  */
  forEach(cb) {
    let index = 0;

    for (let key in this.data) cb.call(this, cb(this.data[key], key, index++));
  }

  /**
  *  Returns offset for a given value
  *
  *  @method ObjectArray~indexOf
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param {Number|String|Array|Object} val Value to find
  *  @returns {Number} Offset of the value of found, -1 if not found
  */
  indexOf(val) {
    let offset = 0;

    for (let key in this.data) {
      if (this.data[key] === val) return offset;
      offset++;
    }
    return -1;
  }

  /**
  *  Push a new key/value pair at the end of the ObjectArray
  *
  *  @method ObjectArray~push
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param {String} key Key of the added item
  *  @param {Number|String|Array|Object} val Value of the added item
  *  @returns {ObjectArray} Returen self for chaining
  */
  push(key, val) {
    /**
    *  The inner data object
    *
    *  @alias ObjectArray~data
    *  @type {Object}
    *  @since 1.0.0
    */
    this.data[key] = val;
    return this;
  }

  /**
  *  Reduce the ObjectArray data given a callback
  *
  *  @method ObjectArray~reduce
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param   {Callback}  reducer   Callback to apply to each key/value (from left)
  *  @param   {Mixed}     [start]   Initial value for iteration
  *  @returns {Mixed}               Callback returns value
  */
  reduce(reducer, start) {
    var acc = start;

    this.forEach(function (value, key) { acc = reducer(acc, value, key); });
    return acc;
  }

  /**
  *  Serialize the ObjectArray data into a string
  *
  *  @method ObjectArray~serialize
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param {String} [rowSep=:]   Separator between key and value
  *  @param {String} [itemSep=;]  Separator between items
  *  @returns {String} Data string representation
  */
  serialize(rowSep = ':', itemSep = ';', cb = null) {
    let arrayData = [];

    this.forEach(function (val, key) { arrayData.push(key + rowSep + val); });
    arrayData.join(itemSep);
  }

  /**
  *  Split a string into the ObjectArray data
  *
  *  @method ObjectArray~split
  *  @since 1.0.0
  *  @version 1.0.0
  *  @author Liqueur de Toile &lt;contact@liqueurdetoile.com>
  *
  *  @param {String} str String to be imported into data
  *  @param {String} [rowSep=:]   Separator between key and value
  *  @param {String} [itemSep=;]  Separator between items
  *  @returns {ObjectArray} Returen self for chaining
  */
  unserialize(str, rowSep = ':', itemSep = ';') {
    let arrayData = str.split(itemSep);

    arrayData.forEach(function (item) {
      item = item.split(rowSep);
      this.data[item[0]] = item[1];
    });

    return this;
  }
}

export default ObjectArray;
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Feb 17 2018 12:19:52 GMT+0100 (Paris, Madrid) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
